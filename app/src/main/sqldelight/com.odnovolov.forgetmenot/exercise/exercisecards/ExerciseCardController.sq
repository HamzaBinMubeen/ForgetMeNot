setAnswerCorrect:
UPDATE ExerciseCardStates SET isAnswerCorrect = ? WHERE cardId = ?;

incrementLapIfNeed:
UPDATE Card
SET lap = lap + 1
WHERE id = :cardId
  AND (SELECT CASE
                  WHEN isAnswerCorrect IS NULL THEN 1
                  ELSE 0
              END
       FROM ExerciseCardStates WHERE cardId = :cardId);